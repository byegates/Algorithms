# [353. Design Snake Game](https://leetcode.com/problems/design-snake-game/)

## solution/æ€è·¯
1. èµ·å§‹é•¿åº¦1:, èµ·å§‹ç‚¹: <0, 0>
2. æ¯åƒåˆ°ä¸€ä¸ªé£Ÿç‰©é•¿åº¦å¢åŠ 1
3. èµ°å‡ºè¾¹ç•Œä¼šæ­»ï¼Œæ’åˆ°è‡ªå·±ä¼šæ­», return -1
4. æ¯èµ°ä¸€æ¬¡:
   1. æ²¡æœ‰åƒåˆ°é£Ÿç‰©: å°¾å·´çŸ­1ï¼Œå¤´å¢åŠ 1
   2. åƒåˆ°é£Ÿç‰©: å¤´å¾€æŒ‡å®šæ–¹å‘å¢åŠ 1
   3. å…ˆç å°¾å·´ï¼Œå†åŠ å¤´ï¼Œä¸ç„¶å¯èƒ½ä¼šæ­»
5. design
   1. éœ€è¦ä¸€ä¸ªsetæ¥çœ‹ğŸçš„èº«ä½“å ç”¨äº†å“ªäº›ç‚¹ï¼Œç”¨æ¥æ£€æµ‹ä¸‹ä¸€æ­¥ä¼šä¸ä¼šæ’åˆ°è‡ªå·±
   2. éœ€è¦ä¸€ä¸ªdeque/queueæ¥è®°å½•ğŸèº«ä½“æ¯ä¸ªç‚¹çš„é¡ºåºï¼Œå› ä¸ºè¦ç å°¾å·´
   3. å› ä¸ºLeetCodeçš„é™åˆ¶ï¼Œä¸çœŸçš„å»ºç«‹matrixï¼Œå…¨éƒ¨ç”¨åæ ‡æ¥æ¨¡æ‹Ÿ
   4. score å°±æ˜¯setæˆ–è€…deque/queueçš„size - 1

```java
class SnakeGame {
    record Cell(int i, int j) {
    }

    int w, h;
    int[][] food;
    int i, j; // head coordination
    int idx; // food index, which food to show right now, default 0
    Set<Cell> set = new HashSet<>();
    Queue<Cell> q = new ArrayDeque<>();

    public SnakeGame(int w, int h, int[][] food) {
        this.w = w;
        this.h = h;
        this.food = food;
        Cell start = new Cell(0, 0);
        set.add(start);
        q.offer(start);
    }

    public int move(String dir) {
        switch (dir) {
            case "U" -> i--;
            case "D" -> i++;
            case "L" -> j--;
            case "R" -> j++;
        }

        if (i < 0 || j < 0 || i >= h || j >= w) return -1;

        if (isFood()) idx++; // ate current food, move 
        else set.remove(q.poll()); // no food, remove tail

        Cell newHead = new Cell(i, j);
        if (!set.add(newHead)) return -1;
        q.offer(newHead);

        return q.size() - 1;
    }

    public boolean isFood() {
        if (idx >= food.length) return false;
        var f = food[idx];
        return f[0] == i && f[1] == j;
    }
}

/**
 * Your SnakeGame object will be instantiated and called as such:
 * SnakeGame obj = new SnakeGame(width, height, food);
 * int param_1 = obj.move(direction);
 */
```